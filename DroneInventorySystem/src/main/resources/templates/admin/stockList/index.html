<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/template :: layout(~{::title},~{::body/content()})}">

<head>
	<title>InvenTrack</title>
</head>

<body>
	<div class="card shadow mb-4">
		<div class="card-header py-3">
			<h6 class="m-0 font-weight-bold text-primary">在庫一覧</h6>
		</div>

		<div class="card-body">
			<!-- 検索フォーム -->
			<div class="search-container">
				<form class="form-inline" method="post" th:action="@{'/admin/stockList/search'}"
					th:object="${StockInfoForm}">
					<label for="searchTerm" class="mr-2">検索条件</label>

					<label for="searchTerm" class="mr-2">分類</label>
					<select id="searchTerm" name="categoryId" class="form-control mr-2">
						<option value="">すべて</option>
						<option th:each="category: ${categories}" th:value="${category.categoryId}"
							th:text="${category.categoryName}"
							th:selected="${category.categoryId == inputtedValue.categoryId}">
						</option>
					</select>

					<label for="searchTerm" class="mr-2">名称</label>
					<select id="searchTerm" name="stockName" class="form-control mr-2">
						<option value="">すべて</option>
						<option th:each="stockInfo: ${selectStockInfoList}" th:value="${stockInfo.stockName}"
							th:text="${stockInfo.stockName}"
							th:selected="${stockInfo.stockName == inputtedValue.stockName}">
						</option>
					</select>

					<label for="searchTerm" class="mr-2">個数</label>
					<input type="number" id="searchTerm" name="amount" class="form-control mr-2"
						th:value="${inputtedValue.amount != null ? inputtedValue.amount : 0}">

					<label for="searchTerm" class="mr-2"></label>
					<select id="searchTerm" name="isAboveOrBelowFlag" class="form-control mr-2">
						<option value="0" th:text="'以上'" th:selected="${inputtedValue.isAboveOrBelowFlag == 0}">
						</option>
						<option value="1" th:text="'以下'" th:selected="${inputtedValue.isAboveOrBelowFlag == 1}">
						</option>
					</select>

					<button type="submit" class="btn btn-primary">検索</button>
				</form>
				<!-- エラーメッセージの表示 -->
				<div th:if="${errorMsg != null}" class="text-danger">
					<p th:text="${errorMsg}"></p>
				</div>
			</div>

			<!--在庫一覧情報テーブル-->
			<div class="table-responsive">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th width="210">名称</th>
							<th width="250">名称</th>
							<th width="80">個数</th>
							<th width="160">保管場所</th>
							<th>説明</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="stock:${stockInfoList}">
							<td th:text="${stock.categoryInfo.categoryName}"></td> <!-- 分類 -->
							<td th:text="${stock.stockName}"></td> <!-- 名称 -->
							<td th:text="${stock.amount}"></td> <!-- 個数 -->
							<td th:text="${stock.centerInfo.centerName}"></td> <!-- 保管場所 -->
							<td th:text="${stock.description}"></td> <!-- 説明 -->
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>

</html>